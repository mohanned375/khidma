<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ุฎุฏูุฉ โ ููุตุฉ ุฑุจุท ุงูุนููุงุก ุจููุฏูู ุงูุฎุฏูุงุช</title>

  <!-- PWA manifest -->
  <link rel="manifest" href="manifest.json" />

  <!-- favicon (SVG data-uri) -->
  <link rel="icon" href="data:image/svg+xml;utf8,
    <svg xmlns='http://www.w3.org/2000/svg' width='192' height='192'>
      <rect width='100%' height='100%' rx='28' fill='%2327ae60'/>
      <text x='50%' y='58%' font-size='110' text-anchor='middle' fill='white' font-family='Tajawal,Arial,sans-serif' font-weight='700'>s</text>
    </svg>">

  <!-- Google font -->
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">

  <!-- styles -->
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="site-header">
    <div class="container header-inner">
      <div class="logo">
        <div class="app-icon">s</div>
        <div class="brand">ููุตุฉ ุฎุฏูุฉ</div>
      </div>

      <nav class="nav">
        <button id="menuToggle" class="menu-btn" aria-label="ูุงุฆูุฉ">โฐ</button>
        <ul id="menuList" class="nav-list" hidden>
          <li><a href="#" onclick="showSearch(); return false;">ุงูุฑุฆูุณูุฉ</a></li>
          <li><a href="#" onclick="showServices(); return false;">ุงูุฎุฏูุงุช</a></li>
          <li><a href="#" onclick="showSettings(); return false;">ุงูุฅุนุฏุงุฏุงุช</a></li>
          <li><a href="#" onclick="showContactPage(); return false;">ุงุชุตู ุจูุง</a></li>
        </ul>
      </nav>

      <div class="top-buttons">
        <button id="searchBtn" class="btn btn-search" onclick="showSearch()">๐ ุจุญุซ</button>
        <button id="registerBtn" class="btn btn-register" onclick="showRegisterForm()">๐ ุชุณุฌูู ููุฏู ุฎุฏูุฉ</button>
      </div>
    </div>
  </header>

  <main class="container main">
    <!-- Hero / intro -->
    <section class="hero">
      <h1>ูุฑุญุจุงู ูู ููุตุฉ ุฎุฏูุฉ</h1>
      <p>ูุฑุจุท ุงูุนููุงุก ุจููุฏูู ุงูุฎุฏูุงุช ูู ุงูุจูุงุกุ ุงูููุฑุจุงุกุ ุงูุณุจุงูุฉุ ุงููููุงูููุงุ ุงููุฌุงุฑุฉ ูุงูุญุฑู ุงููุชููุนุฉ โ ูููููู ุฅุถุงูุฉ ุตูู ุฌุฏูุฏ ุจุณูููุฉ.</p>
      <div class="hero-images">
        <!-- example internet image (under construction) -->
        <img src="https://vhv.rs/d/hTwobhw/building-and-construction-png-download-3d-building-transparent.png" alt="ุจูุช ุชุญุช ุงูุชุดููุฏ" width="200" height="300" style="object-fit:contain;">
      </div>
    </section>

    <!-- Search / results -->
    <section id="searchSection" class="panel" style="display:none;">
      <div class="search-controls">
        <input id="searchInput" class="search-input" placeholder="ุงุจุญุซ ุจุงุณู ุงููููุฉ ุฃู ุงููุฏููุฉ..." />
        <select id="categorySelect" class="category-select">
          <option value="">ูู ุงููุฆุงุช</option>
          <option value="electricity">ููุฑุจุงุก</option>
          <option value="plumbing">ุณุจุงูุฉ</option>
          <option value="mechanics">ูููุงูููุง</option>
          <option value="carpentry">ูุฌุงุฑุฉ</option>
          <option value="crafts">ุญุฑู ูุฏููุฉ</option>
          <option value="cleaning">ุชูุธูู</option>
          <option value="painting">ุฏูุงู</option>
          <option value="gardening">ุจุณุชูุฉ</option>
          <option value="other">ุฃุฎุฑู</option>
        </select>
        <button class="btn btn-primary" onclick="searchServices()">ุจุญุซ</button>
      </div>

      <div id="providersContainer" class="providers-grid"></div>
    </section>

    <!-- Register -->
    <section id="registerSection" class="panel" style="display:none;">
      <h2>ุชุณุฌูู ููุฏู ุฎุฏูุฉ ุฌุฏูุฏ</h2>
      <form id="registerForm">
        <input id="providerName" placeholder="ุงูุงุณู ุงููุงูู" required />
        <input id="providerPhone" placeholder="ุฑูู ุงููุงุชู (ูุซุงู: 05xxxxxxxx)" required />
        <input id="providerEmail" placeholder="ุงูุจุฑูุฏ ุงูุฅููุชุฑููู (ุงุฎุชูุงุฑู)" />
        <select id="providerCategoryReg" required>
          <option value="">ุงุฎุชุฑ ุงููุฆุฉ</option>
          <option value="electricity">ููุฑุจุงุก</option>
          <option value="plumbing">ุณุจุงูุฉ</option>
          <option value="mechanics">ูููุงูููุง</option>
          <option value="carpentry">ูุฌุงุฑุฉ</option>
          <option value="crafts">ุญุฑู ูุฏููุฉ</option>
          <option value="cleaning">ุชูุธูู</option>
          <option value="painting">ุฏูุงู</option>
          <option value="gardening">ุจุณุชูุฉ</option>
          <option value="other">ุฃุฎุฑู</option>
        </select>
        <input id="providerLocation" placeholder="ุงูููุทูุฉ (ูุซุงู: ุงูุฑูุงุถ)" required />
        <input id="providerExperience" type="number" placeholder="ุณููุงุช ุงูุฎุจุฑุฉ" min="0" />
        <textarea id="providerDescription" placeholder="ูุตู ูุฎุชุตุฑ ุนู ุงูุฎุฏูุงุช" required></textarea>
        <input id="providerWhats" placeholder="ุฑูู ูุงุชุณุงุจ (ูุซุงู: 9665xxxxxxxx)" />
        <button type="submit" class="btn btn-register-full">ุชุณุฌูู</button>
      </form>
    </section>

    <!-- Admin login / panel -->
    <section id="adminLoginSection" class="panel" style="display:none;">
      <h2>ุชุณุฌูู ุฏุฎูู ุงููุฏูุฑ</h2>
      <form id="adminLoginForm">
        <input id="adminEmail" placeholder="ุงูุจุฑูุฏ ุงูุฅููุชุฑููู" required />
        <input id="adminPassword" type="password" placeholder="ูููุฉ ุงููุฑูุฑ" required />
        <button type="submit" class="btn btn-primary">ุฏุฎูู</button>
      </form>
    </section>

    <section id="adminPanel" class="panel" style="display:none;">
      <h2>ููุญุฉ ุงูุฅุฏุงุฑุฉ</h2>
      <div id="adminStats"></div>
      <div id="allProvidersAdmin"></div>
      <button class="btn btn-danger" onclick="signOutAdmin()">ุชุณุฌูู ุฎุฑูุฌ</button>
    </section>

    <!-- Contact page -->
    <section id="contactSection" class="panel" style="display:none;">
      <h2>ุงุชุตู ุจูุง</h2>
      <p>ููุฏุนู ุฃู ุงูุดูุงูู: <a href="mailto:admin@yourdomain.com">admin@yourdomain.com</a></p>
    </section>
  </main>

  <!-- contact modal -->
  <div id="contactModal" class="modal" style="display:none;">
    <div class="modal-content">
      <button class="close" onclick="closeContactModal()">ร</button>
      <div id="contactInfo"></div>
    </div>
  </div>

  <footer class="site-footer">
    ยฉ 2025 ููุตุฉ ุฎุฏูุฉ โ ุฌููุน ุงูุญููู ูุญููุธุฉ
  </footer>

  <!-- firebase & app scripts -->
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>

  <!-- main application -->
  <script src="app.js"></script>

  <!-- register service worker -->
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('sw.js').then(() => console.log('SW registered')).catch(e=>console.warn('SW failed', e));
    }
  </script>
</body>
</html>
